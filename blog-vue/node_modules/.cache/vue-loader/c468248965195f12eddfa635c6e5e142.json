{"remainingRequest":"C:\\Program Files\\_MY\\项目\\博客\\blog-master\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Program Files\\_MY\\项目\\博客\\blog-master\\src\\views\\Message.vue?vue&type=style&index=0&id=59f4fb3d&scoped=true&lang=css&","dependencies":[{"path":"C:\\Program Files\\_MY\\项目\\博客\\blog-master\\src\\views\\Message.vue","mtime":1705065876000},{"path":"C:\\Program Files\\_MY\\项目\\博客\\blog-master\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Program Files\\_MY\\项目\\博客\\blog-master\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\Program Files\\_MY\\项目\\博客\\blog-master\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\Program Files\\_MY\\项目\\博客\\blog-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Program Files\\_MY\\项目\\博客\\blog-master\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLm1lc3NhZ2UtYmFubmVyIHsKICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgLyp0b3A6IC01OHB4OyovCiAgbGVmdDogMDsKICByaWdodDogMDsKICBoZWlnaHQ6IDEwMHZoOwogIGJhY2tncm91bmQ6IHVybCgiLi4vYXNzZXRzL2ltYWdlcy8xLmpwZyIpY2VudGVyIGNlbnRlciAvCiAgY292ZXIgbm8tcmVwZWF0OwogIGJhY2tncm91bmQtY29sb3I6ICM0OWIxZjU7CiAgYW5pbWF0aW9uOiBoZWFkZXItZWZmZWN0IDFzOwp9Ci5tZXNzYWdlLXRpdGxlIHsKICBjb2xvcjogI2VlZTsKICBhbmltYXRpb246IHRpdGxlLXNjYWxlIDFzOwp9Ci5tZXNzYWdlLWNvbnRhaW5lciB7CiAgcG9zaXRpb246IGFic29sdXRlOwogIHdpZHRoOiAzNjBweDsKICB0b3A6IDM1JTsKICBsZWZ0OiAwOwogIHJpZ2h0OiAwOwogIHRleHQtYWxpZ246IGNlbnRlcjsKICB6LWluZGV4OiA1OwogIG1hcmdpbjogMCBhdXRvOwogIGNvbG9yOiAjZmZmOwp9Ci5tZXNzYWdlLWlucHV0LXdyYXBwZXIgewogIGRpc3BsYXk6IGZsZXg7CiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7CiAgaGVpZ2h0OiAyLjVyZW07CiAgbWFyZ2luLXRvcDogMnJlbTsKfQoubWVzc2FnZS1pbnB1dC13cmFwcGVyIGlucHV0IHsKICBvdXRsaW5lOiBub25lOwogIHdpZHRoOiA3MCU7CiAgYm9yZGVyLXJhZGl1czogMjBweDsKICBoZWlnaHQ6IDEwMCU7CiAgcGFkZGluZzogMCAxLjI1cmVtOwogIGNvbG9yOiAjZWVlOwogIGJvcmRlcjogI2ZmZiAxcHggc29saWQ7Cn0KLm1lc3NhZ2UtaW5wdXQtd3JhcHBlciBpbnB1dDo6LXdlYmtpdC1pbnB1dC1wbGFjZWhvbGRlciB7CiAgY29sb3I6ICNlZWVlOwp9Ci5tZXNzYWdlLWlucHV0LXdyYXBwZXIgYnV0dG9uIHsKICBvdXRsaW5lOiBub25lOwogIGJvcmRlci1yYWRpdXM6IDIwcHg7CiAgaGVpZ2h0OiAxMDAlOwogIHBhZGRpbmc6IDAgMS4yNXJlbTsKICBib3JkZXI6ICNmZmYgMXB4IHNvbGlkOwp9Ci5iYXJyYWdlLWNvbnRhaW5lciB7CiAgcG9zaXRpb246IGFic29sdXRlOwogIHRvcDogNTBweDsKICBsZWZ0OiAwOwogIHJpZ2h0OiAwOwogIGJvdHRvbTogMDsKICBoZWlnaHQ6IGNhbGMoMTAwJSAtIDUwcHgpOwogIHdpZHRoOiAxMDAlOwp9Ci5iYXJyYWdlLWl0ZW1zIHsKICBiYWNrZ3JvdW5kOiByZ2IoMCwgMCwgMCwgMC43KTsKICBib3JkZXItcmFkaXVzOiAxMDBweDsKICBjb2xvcjogI2ZmZjsKICBwYWRkaW5nOiA1cHggMTBweCA1cHggNXB4OwogIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgZGlzcGxheTogZmxleDsKfQo="},{"version":3,"sources":["Message.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Message.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div>\n    <!-- banner -->\n    <div class=\"message-banner\">\n      <!-- 弹幕输入框 -->\n      <div class=\"message-container\">\n        <h1 class=\"message-title\">留言板</h1>\n        <div class=\"animated fadeInUp message-input-wrapper\">\n          <input\n            v-model=\"messageContent\"\n            @click=\"show = true\"\n            placeholder=\"说点什么吧\" style=\"background: transparent;\"\n          />\n          <button\n            class=\"ml-3 animated bounceInLeft\"\n            @click=\"addToList\"\n            v-show=\"show\"\n          >\n            发送\n          </button>\n        </div>\n      </div>\n      <!-- 弹幕列表 -->\n      <div class=\"barrage-container\">\n        <vue-baberrage :barrageList=\"barrageList\" :loop=\"true\">\n          <template v-slot:default=\"slotProps\">\n            <span class=\"barrage-items\">\n              <img\n                :src=\"slotProps.item.avatar\"\n                width=\"30\"\n                height=\"30\"\n                style=\"border-radius:50%\"\n              />\n              <span class=\"ml-2\">{{ slotProps.item.nickname }} :</span>\n              <span class=\"ml-2\">{{ slotProps.item.messageContent }}</span>\n            </span>\n          </template>\n        </vue-baberrage>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Vue from 'vue'\nimport { vueBaberrage } from 'vue-baberrage'\nVue.use(vueBaberrage)\nexport default {\n  created () {\n    this.avatar = this.$store.state.avatar\n    this.nickname = this.$store.state.nickname\n  },\n  mounted () {\n    this.listMessage()\n  },\n  data () {\n    return {\n      avatar: '',\n      nickname: '',\n      show: false,\n      messageContent: '',\n      barrageList: []\n    }\n  },\n  methods: {\n    async addToList () {\n      if (this.messageContent.trim() === '') {\n        this.$message.info('留言不能为空')\n        return false\n      }\n      const userAvatar = this.avatar\n        ? this.avatar\n        : 'https://r.photo.store.qq.com/psc?/V53KcXfb1umonn4HbITu3rINxs43TczD/45NBuzDIW489QBoVep5mccJUo7*q6gaMPZmbFDSW8tjmAm4XwuoUZmMKw3asmvn1mxsE*Tf0fj.VOh2G6OX7v4duFOfedV2oGNQ*GrJEPkA!/r'\n      const userNickname = this.nickname\n        ? this.nickname\n        : ''\n      const message = {\n        avatar: userAvatar,\n        nickname: userNickname,\n        messageContent: this.messageContent,\n        time: Math.floor(Math.random() * 10 + 6)\n      }\n      this.barrageList.push(message)\n      this.messageContent = ''\n      const { data: res } = await this.$http.post('/api/server/message/add', message)\n      // const { data: res } = await this.$http.post('/extension/message/add', message)\n      if (res.flag) {\n        // 弹出提示信息\n        this.$message.success('新增留言成功')\n      } else { // 执行失败\n        this.$message.error('留言失败')\n      }\n    },\n    async listMessage () {\n      const { data: res } = await this.$http.get('/api/server/message/getMessageList')\n      // const { data: res } = await this.$http.get('/extension/message/getMessageList')\n      if (res.flag) {\n        // this.$message.success(res.message)\n        this.barrageList = res.data\n      } else {\n        this.$message.error(res.message)\n      }\n    }\n  }\n}\n</script>\n\n<style scoped>\n  .message-banner {\n    position: absolute;\n    /*top: -58px;*/\n    left: 0;\n    right: 0;\n    height: 100vh;\n    background: url(\"../assets/images/1.jpg\")center center /\n    cover no-repeat;\n    background-color: #49b1f5;\n    animation: header-effect 1s;\n  }\n  .message-title {\n    color: #eee;\n    animation: title-scale 1s;\n  }\n  .message-container {\n    position: absolute;\n    width: 360px;\n    top: 35%;\n    left: 0;\n    right: 0;\n    text-align: center;\n    z-index: 5;\n    margin: 0 auto;\n    color: #fff;\n  }\n  .message-input-wrapper {\n    display: flex;\n    justify-content: center;\n    height: 2.5rem;\n    margin-top: 2rem;\n  }\n  .message-input-wrapper input {\n    outline: none;\n    width: 70%;\n    border-radius: 20px;\n    height: 100%;\n    padding: 0 1.25rem;\n    color: #eee;\n    border: #fff 1px solid;\n  }\n  .message-input-wrapper input::-webkit-input-placeholder {\n    color: #eeee;\n  }\n  .message-input-wrapper button {\n    outline: none;\n    border-radius: 20px;\n    height: 100%;\n    padding: 0 1.25rem;\n    border: #fff 1px solid;\n  }\n  .barrage-container {\n    position: absolute;\n    top: 50px;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    height: calc(100% - 50px);\n    width: 100%;\n  }\n  .barrage-items {\n    background: rgb(0, 0, 0, 0.7);\n    border-radius: 100px;\n    color: #fff;\n    padding: 5px 10px 5px 5px;\n    align-items: center;\n    display: flex;\n  }\n</style>\n"]}]}