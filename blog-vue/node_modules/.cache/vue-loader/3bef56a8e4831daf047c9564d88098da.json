{"remainingRequest":"C:\\Program Files\\_MY\\项目\\博客\\blog-master\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Program Files\\_MY\\项目\\博客\\blog-master\\src\\components\\TopNavBar.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Program Files\\_MY\\项目\\博客\\blog-master\\src\\components\\TopNavBar.vue","mtime":1705065876000},{"path":"C:\\Program Files\\_MY\\项目\\博客\\blog-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Program Files\\_MY\\项目\\博客\\blog-master\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Program Files\\_MY\\项目\\博客\\blog-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Program Files\\_MY\\项目\\博客\\blog-master\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCgpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogCiAgfSwKICBjcmVhdGVkICgpIHsKICAgIHRoaXMuZ2V0VXNlcigpCgoKICAgIAogIH0sCiAgbW91bnRlZCAoKSB7CiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgdGhpcy5zY3JvbGwpCiAgfSwKICAvLyBkYXRhOiBmdW5jdGlvbiAoKSB7CiAgLy8gICByZXR1cm4gewogIC8vCiAgLy8gICB9CiAgLy8gfSwKICBkYXRhICgpIHsKICAgIAogICAgcmV0dXJuIHsKICAgICAgbmF2Q2xhc3M6ICcnLAogICAgICBhdmF0YXI6ICcnLAogICAgICB1c2VyOiB7fSwKICAgICAgcXVlcnlTdHJpbmc6ICcnLAogICAgICBzZWFyY2hGbGFnOiBmYWxzZSwKICAgICAgdXNlcm5hbWU6JycKCiAgICB9CiAgfSwKICBtZXRob2RzOiB7CgogCgogICAgICAKCgoKICAgIAogICAgdG9Mb2dpbiAoKSB7CiAgICAgIGNvbnN0IHRva2VuU3RyID0gd2luZG93LnNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ3Rva2VuJykKICAgICAgLy8g5ZCO56uv5oyH5a6a5o6l5Y+j6aqM6K+B5LqGdG9rZW7nmoTmraPnoa7mgKcKICAgICAgaWYgKCF0b2tlblN0cikgewogICAgICAgIHRoaXMuJGNvbmZpcm0oJ+eZu+W9leWQjuaJjeiDveW8gOWQr+iBiuWkqeWupO+8jOivt+mXruaYr+WQpuWFiOeZu+W9le+8nycsICfmj5DnpLonLCB7IC8vIOehruiupOahhgogICAgICAgICAgdHlwZTogJ2luZm8nCiAgICAgICAgfSkudGhlbigoKSA9PiB7CiAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnL2xvZ2luJykKICAgICAgICB9KS5jYXRjaCgoKSA9PiB7CiAgICAgICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICAgICAgdHlwZTogJ2luZm8nLAogICAgICAgICAgICBtZXNzYWdlOiAn5L2g6YCJ5oup5LiN55m75b2VJwogICAgICAgICAgfSkKICAgICAgICAgIHJldHVybiBmYWxzZQogICAgICAgIH0pCiAgICAgIH0KICAgICAgcmV0dXJuICEhdG9rZW5TdHIKICAgIH0sCiAgICBvcGVuUm9vbSAoKSB7CiAgICAgIGlmICh0aGlzLnRvTG9naW4oKSkgeyB0aGlzLiRyZWZzLnJvb20ub3BlbkZyYW1lKCkgfQogICAgfSwKICAgIGNsb3NlU2VhcmNoICgpIHsKICAgICAgdGhpcy5zZWFyY2hGbGFnID0gZmFsc2UKICAgIH0sCiAgICBzZWFyY2ggKCkgewogICAgICB0aGlzLiRyZWZzLnNlYXJjaE1vZGVsLnNldERpYWxvZ1Zpc2libGUoKQogICAgICAvLyB0aGlzLnNlYXJjaEZsYWcgPSB0cnVlCiAgICAgIC8vIGlmICh0aGlzLnF1ZXJ5U3RyaW5nICE9PSAnJykgewogICAgICAvLyAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oJ3F1ZXJ5U3RyaW5nJywgdGhpcy5xdWVyeVN0cmluZykKICAgICAgLy8gICB0aGlzLnF1ZXJ5U3RyaW5nID0gJycKICAgICAgLy8gICB0aGlzLnNlYXJjaEZsYWcgPSBmYWxzZQogICAgICAvLyAgIGlmICh0aGlzLiRyb3V0ZS5wYXRoID09PSAnL2hvbWUnKSB7IHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKSB9IGVsc2UgewogICAgICAvLyAgICAgdGhpcy4kcm91dGVyLnB1c2goJy9ob21lJykKICAgICAgLy8gICB9CiAgICAgIC8vIH0KICAgIH0sCiAgICBzY3JvbGwgKCkgewogICAgICBjb25zdCB0aGF0ID0gdGhpcwogICAgICBjb25zdCBzY3JvbGxUb3AgPQogICAgICAgIHdpbmRvdy5wYWdlWU9mZnNldCB8fAogICAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3AgfHwKICAgICAgICBkb2N1bWVudC5ib2R5LnNjcm9sbFRvcAogICAgICB0aGF0LnNjcm9sbFRvcCA9IHNjcm9sbFRvcAogICAgICBpZiAodGhhdC5zY3JvbGxUb3AgPiA2MCkgewogICAgICAgIHRoYXQubmF2Q2xhc3MgPSAnbmF2LWZpeGVkJwogICAgICB9IGVsc2UgewogICAgICAgIHRoYXQubmF2Q2xhc3MgPSAnbmF2JwogICAgICB9CiAgICB9LAogICAgbG9nb3V0ICgpIHsKICAgICAgd2luZG93LnNlc3Npb25TdG9yYWdlLmNsZWFyKCkKICAgICAgdGhpcy4kcm91dGVyLnB1c2goJy9ob21lJykKICAgICAgLy8g5Yi35paw6aG16Z2i77yM5Yig6ZmkdnVleOaVsOaNrgogICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCkKICAgIH0sCgoKICAKCgoKCi8v5YWI6I635Y+W5b2T5YmN55So5oi355qE5Liq5Lq65L+h5oGvIAogICAgZ2V0VXNlciAoKSB7CgoKICAgICAgIHRoaXMuJGF4aW9zLmdldCgnL3VzZXIvJytzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCd1aWQnKSkudGhlbigocmVzKSA9PiB7CiAgICAgICAgICAgdGhpcy51c2VybmFtZSA9IHJlcy5kYXRhLmRhdGEudXNlcm5hbWUKICAgICAgICB0aGlzLmF2YXRhciA9IHJlcy5kYXRhLmRhdGEuYXZhdGFyCiAgICAgICAgICAgCiAgICAgICAgICB9KQoKCgogICAgfQoKICB9LAoKCiAgY29tcHV0ZWQ6IHsKICAgIC8vIGF2YXRhciAoKSB7CiAgICAvLyAgIHJldHVybiB0aGlzLmF2YXRhcgogICAgLy8gfQogIH0KfQoKCgoK"},{"version":3,"sources":["TopNavBar.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqHA;AACA;;AAEA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;;;;;;;AASA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;AAQA;AACA;;;AAGA;AACA;AACA;;AAEA;;;;AAIA;;AAEA;;;AAGA;AACA;AACA;AACA;AACA;AACA","file":"TopNavBar.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div id=\"navClass\" class=\"navClass\" hide-on-scroll flat height=\"58\">\n    <!-- 电脑导航栏 -->\n    <div class=\"d-md-block d-none nav-container\">\n      <div class=\"float-left blog-title\">\n<!--        <router-link to=\"/\">-->\n<!--        </router-link>-->\n      </div>\n      <div class=\"float-right nav-title\">\n        <el-input v-model=\"queryString\" v-if=\"searchFlag\" style=\"float: top;width: 100px\" placeholder=\"请输入内容\"></el-input><i class=\"el-icon-circle-close\" v-if=\"searchFlag\" @click=\"closeSearch\"></i>\n      \n      \n        \n\n\n        <div class=\"menus-item\">\n\n\n          <router-link to=\"/home\" >\n            <i class=\"el-icon-house\" style=\"color: whitesmoke\" /><span style=\"color: whitesmoke;margin-right: 10px\"  >首页</span>\n          </router-link>\n\n\n        </div>\n\n\n        <div class=\"menus-item\">\n\n\n\n          <router-link to=\"/Message\" >\n            <i class=\"el-icon-paperclip\" style=\"color: whitesmoke\" /><span style=\"color: whitesmoke;margin-right: 10px\"  >留言板</span>\n          </router-link>\n\n\n        </div>\n\n\n\n    \n        <div class=\"menus-item\">\n\n          <router-link to=\"/types\">\n            <i class=\"el-icon-s-operation\" style=\"color: whitesmoke\"/><span style=\"color: whitesmoke;margin-right: 10px\" >分类</span>\n          </router-link>\n          \n        </div>\n\n\n  \n\n\n        <div class=\"menus-item\">\n          <router-link to=\"/Crawler\">\n            <i class=\"el-icon-setting\" style=\"color: whitesmoke\"/><span style=\"color: whitesmoke;margin-right: 10px\">爬虫</span>\n          </router-link>\n        </div>\n\n\n\n     \n\n\n      \n\n\n        <div class=\"user-btn\">\n          <!--  这里 v-if 和 v-else 相配合 -->\n          <template v-if=\"avatar===''\">\n         <div class=\"menus-item\">\n          <router-link to=\"/login\">\n            <i class=\"el-icon-s-custom\" style=\"color: whitesmoke\"/> <span style=\"color: whitesmoke;margin-right: 10px\">登入</span>\n          </router-link>\n        </div>\n          </template>\n\n<!--       v-else 和 v-if 配合使用。v-else套在template里面  这个是 就是   登入之后  的要变成的东西   -->\n          <template v-else>\n            <img\n              class=\"user-avatar\"\n              v-bind:src=this.avatar\n              height=\"30\"\n              width=\"30\"\n            />  \n            <ul class=\"user-submenu\">\n\n            \n              <li>\n                <router-link to=\"/About\">\n                  <i class=\"user circle icon\"/> 个人中心\n                </router-link>\n              </li>\n             \n\n\n\n\n              <li>\n                <a @click=\"logout\"><i class=\"sign out alternate icon\" />退出</a>\n              </li>\n            </ul>\n          </template>\n\n\n        </div> \n      </div>\n    </div>\n\n    \n   \n  </div>\n\n\n</template>\n\n<script>\n\nexport default {\n  components: {\n \n  },\n  created () {\n    this.getUser()\n\n\n    \n  },\n  mounted () {\n    window.addEventListener('scroll', this.scroll)\n  },\n  // data: function () {\n  //   return {\n  //\n  //   }\n  // },\n  data () {\n    \n    return {\n      navClass: '',\n      avatar: '',\n      user: {},\n      queryString: '',\n      searchFlag: false,\n      username:''\n\n    }\n  },\n  methods: {\n\n \n\n      \n\n\n\n    \n    toLogin () {\n      const tokenStr = window.sessionStorage.getItem('token')\n      // 后端指定接口验证了token的正确性\n      if (!tokenStr) {\n        this.$confirm('登录后才能开启聊天室，请问是否先登录？', '提示', { // 确认框\n          type: 'info'\n        }).then(() => {\n          this.$router.push('/login')\n        }).catch(() => {\n          this.$message({\n            type: 'info',\n            message: '你选择不登录'\n          })\n          return false\n        })\n      }\n      return !!tokenStr\n    },\n    openRoom () {\n      if (this.toLogin()) { this.$refs.room.openFrame() }\n    },\n    closeSearch () {\n      this.searchFlag = false\n    },\n    search () {\n      this.$refs.searchModel.setDialogVisible()\n      // this.searchFlag = true\n      // if (this.queryString !== '') {\n      //   sessionStorage.setItem('queryString', this.queryString)\n      //   this.queryString = ''\n      //   this.searchFlag = false\n      //   if (this.$route.path === '/home') { window.location.reload() } else {\n      //     this.$router.push('/home')\n      //   }\n      // }\n    },\n    scroll () {\n      const that = this\n      const scrollTop =\n        window.pageYOffset ||\n        document.documentElement.scrollTop ||\n        document.body.scrollTop\n      that.scrollTop = scrollTop\n      if (that.scrollTop > 60) {\n        that.navClass = 'nav-fixed'\n      } else {\n        that.navClass = 'nav'\n      }\n    },\n    logout () {\n      window.sessionStorage.clear()\n      this.$router.push('/home')\n      // 刷新页面，删除vuex数据\n      window.location.reload()\n    },\n\n\n  \n\n\n\n\n//先获取当前用户的个人信息 \n    getUser () {\n\n\n       this.$axios.get('/user/'+sessionStorage.getItem('uid')).then((res) => {\n           this.username = res.data.data.username\n        this.avatar = res.data.data.avatar\n           \n          })\n\n\n\n    }\n\n  },\n\n\n  computed: {\n    // avatar () {\n    //   return this.avatar\n    // }\n  }\n}\n\n\n\n\n</script>\n\n<style scoped>\n  .navClass{\n    /*position:fixed; !* 绝对定位，fixed是相对于浏览器窗口定位。 *!*/\n    position: relative;\n    top:15px; /* 距离窗口顶部距离 */\n    right: 22px;\n    height:10px; /* 高度 */\n    float: right;\n    z-index:99; /* 层叠顺序，数值越大就越高。页面滚动的时候就不会被其他内容所遮挡。 */\n  }\n  i {\n    margin-right: 4px;\n  }\n  ul {\n    list-style: none;\n  }\n  .nav {\n    background: rgba(0, 0, 0, 0) !important;\n  }\n  .nav a {\n    color: #eee !important;\n  }\n  .nav .menus-item a {\n    text-shadow: 0.05rem 0.05rem 0.1rem rgba(0, 0, 0, 0.3);\n  }\n  .nav .blog-title a {\n    text-shadow: 0.1rem 0.1rem 0.2rem rgba(0, 0, 0, 0.15);\n  }\n  .theme--light.nav-fixed {\n    background: rgba(255, 255, 255, 0.8) !important;\n    box-shadow: 0 5px 6px -5px rgba(133, 133, 133, 0.6);\n  }\n  .theme--dark.nav-fixed {\n    background: rgba(18, 18, 18, 0.8) !important;\n  }\n  .theme--dark.nav-fixed a {\n    color: rgba(255, 255, 255, 0.8) !important;\n  }\n  .theme--light.nav-fixed a {\n    color: #4c4948 !important;\n  }\n  .nav-fixed .menus-item a,\n  .nav-fixed .menus-btn a,\n  .nav-fixed .blog-title a {\n    text-shadow: none;\n  }\n  .nav-container {\n    font-size: 14px;\n    width: 100%;\n    height: 100%;\n  }\n  .nav-mobile-container {\n    width: 100%;\n    display: flex;\n    align-items: center;\n  }\n  .blog-title,\n  .nav-title {\n    display: flex;\n    align-items: center;\n    height: 100%;\n  }\n  .blog-title a {\n    font-size: 18px;\n    font-weight: bold;\n  }\n  .user-btn,\n  .menus-btn,\n  .menus-item {\n    position: relative;\n    display: inline-block;\n    margin: 0 0 0 0.875rem;\n  }\n  .menus-btn a,\n  .menus-item a {\n    transition: all 0.2s;\n  }\n  .nav-fixed .menus-btn a:hover,\n  .nav-fixed .menus-item a:hover {\n    color: #49b1f5 !important;\n  }\n  .menus-item a:hover:after {\n    width: 100%;\n  }\n  .menus-item a:after {\n    position: absolute;\n    bottom: -5px;\n    left: 0;\n    z-index: -1;\n    width: 0;\n    height: 3px;\n    background-color: #80c8f8;\n    content: \"\";\n    transition: all 0.3s ease-in-out;\n  }\n  .user-btn a {\n    transition: all 0.2s;\n  }\n  .user-avatar {\n    cursor: pointer;\n    border-radius: 50%;\n  }\n  .user-btn:hover .user-submenu {\n    display: block;\n  }\n\n  .user-submenu {\n    position: absolute;\n    display: none;\n    right: 0;\n    width: max-content;\n    margin-top: 8px;\n    box-shadow: 0 5px 20px -4px rgba(0, 0, 0, 0.5);\n    background-color: #fff;\n    animation: submenu 0.3s 0.1s ease both;\n  }\n  \n  .user-submenu:before {\n    position: absolute;\n    top: -8px;\n    left: 0;\n    width: 100%;\n    height: 20px;\n    content: \"\";\n  }\n  .user-submenu a {\n    line-height: 2;\n    color: #4c4948 !important;\n    text-shadow: none;\n    display: block;\n    padding: 6px 14px;\n  }\n  .user-submenu a:hover {\n    background: #4ab1f4;\n  }\n  @keyframes submenu {\n    0% {\n      opacity: 0;\n      filter: alpha(opacity=0);\n      transform: translateY(10px);\n    }\n    100% {\n      opacity: 1;\n      filter: none;\n      transform: translateY(0);\n    }\n  }\n</style>\n"]}]}